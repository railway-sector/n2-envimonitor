"use strict";(self.webpackChunkn2_envimonitor=self.webpackChunkn2_envimonitor||[]).push([[89694],{89694:(t,n,r)=>{r.r(n),r.d(n,{SplatSortWorkerInput:()=>s,SplatSortWorkerOutput:()=>e,destroy:()=>h,sort:()=>f});class s{constructor(t,n,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.distances=t,this.sortOrderIndices=n,this.numGaussians=r,this.preciseSort=s}}class e{constructor(t,n){this.distances=t,this.sortedOrderIndices=n}}let o=null,i=null;const l=10,a=20,u=.25;function c(t,n){const r=t.length,s=Math.max(l,Math.min(a,Math.round(Math.log2(r/u)))),e=1+(1<<s);!function(t,n){var r;(null===(r=o)||void 0===r?void 0:r.length)!==t&&(o=new Uint32Array(t)),i&&i.length===1+(1<<n)?i.fill(0):i=new Uint32Array(1+(1<<n))}(r,s);let c=t[0],f=t[0];for(let o=0;o<t.length;o++)c=Math.min(c,t[o]),f=Math.max(f,t[o]);const h=f-c;if(h<1e-6)for(let l=0;l<r;++l)o[l]=0,i[0]++;else{const n=(1<<s)/h;for(let s=0;s<r;s++){const r=(t[s]-c)*n>>>0;o[s]=r,i[r]++}}for(let o=1;o<e;o++)i[o]+=i[o-1];for(let l=0;l<r;l++){const t=o[l];n[--i[t]]=l}}async function f(t){const{distances:n,sortOrderIndices:r,preciseSort:s,numGaussians:o}=t,i=n.subarray(0,o),l=r.subarray(0,o);if(0===i.length||0===l.length)return{result:new e(n,r),transferList:[n.buffer,r.buffer]};if(s){const t=Array.from(l.keys());t.sort((t,n)=>i[t]-i[n]||t-n);const n=t.map(t=>l[t]);l.set(n)}else c(i,l);return{result:new e(n,r),transferList:[n.buffer,r.buffer]}}function h(){o=null,i=null}}}]);
//# sourceMappingURL=89694.55e50969.chunk.js.map