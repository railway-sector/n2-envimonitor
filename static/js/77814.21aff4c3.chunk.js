"use strict";(self.webpackChunkn2_envimonitor=self.webpackChunkn2_envimonitor||[]).push([[77814],{77814:(e,t,i)=>{i.r(t),i.d(t,{handleValidateNetworkTopologyResult:()=>c,submitValidateNetworkTopologyJob:()=>l,validateNetworkTopology:()=>r});var a=i(89379),s=i(3825),o=i(50076),d=i(54994),n=i(11187);async function r(e,t,i){const o=(0,d.Dl)(e),r=t.toJSON();t.validationSet&&(r.validationSet=JSON.stringify(t.validationSet));const l=(0,a.A)((0,a.A)({},r),{},{returnEdits:!0,f:"json"}),u=(0,d.lF)((0,a.A)((0,a.A)({},o.query),l)),k=(0,d.jV)(u,(0,a.A)((0,a.A)({},i),{},{method:"post"})),p="".concat(o.path,"/validateNetworkTopology"),{data:v}=await(0,s.A)(p,k);return n.A.fromJSON(c(v))}async function l(e,t,i){if(!t.gdbVersion)throw new o.A("submit-validate-network-topology-job:missing-gdb-version","version is missing");const n=(0,d.Dl)(e),r=t.toJSON();t.validationSet&&(r.validationSet=JSON.stringify(t.validationSet));const l=(0,d.jV)(n.query,(0,a.A)((0,a.A)({query:(0,d.lF)((0,a.A)((0,a.A)({},r),{},{returnEdits:!0,async:!0,f:"json"}))},i),{},{method:"post"})),c="".concat(n.path,"/validateNetworkTopology"),{data:u}=await(0,s.A)(c,l);return u?u.statusUrl:null}function c(e){return e.serviceEdits&&(e.serviceEdits=e.serviceEdits.map(e=>(e.editedFeatures.spatialReference&&(e.editedFeatures.spatialReference={wkid:e.editedFeatures.spatialReference.wkid,wkt:e.editedFeatures.spatialReference.wkt,wkt2:e.editedFeatures.spatialReference.wkt2,latestWkid:e.editedFeatures.spatialReference.latestWkid,latestVcsWkid:e.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:e.editedFeatures.spatialReference.vcsWkid}),{layerId:e.id,editedFeatures:e.editedFeatures}))),e}}}]);
//# sourceMappingURL=77814.21aff4c3.chunk.js.map